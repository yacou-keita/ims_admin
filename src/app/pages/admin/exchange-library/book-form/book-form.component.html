<div class="row justify-content-center">
    <div class="col-lg-6">
        <nb-card >
            <nb-card-header> 
                {{pageTitle | translate}}
            </nb-card-header>
            <nb-card-body>
                <form [formGroup]="bookForm" (ngSubmit)="onFormSubmit()">
                    <div class="form-group row justify-content-center">
                        <div class="col-sm-4 avatar">                            
                            <div class="content" [ngStyle]="{'background-image':  'url(' + picture + ')'}">
                            </div>
                            <div class="select-file">
                                <div style="position: relative; height: 100%;">
                                    <nb-icon icon="edit-outline"  style="color: black;">arrow-back-outline</nb-icon>
                                    <input type="file" class="file-input" accept="image/*" (change)="changeListener($event)">    
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="label mr-4"> {{'Book Name' | translate}} </label>
                        <input nbInput type="text" placeholder="{{'Title' | translate }}" [status]="isInvalidControl(bookForm,'title')?'danger':'basic'" formControlName="title">
                        <div *ngIf="isInvalidControl(bookForm,'title')">
                            <span class="error-text" *ngIf="bookForm.get('title').errors.required">{{'required' | translate}}</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="label mr-4"> {{'Author' | translate}} </label>
                        <input nbInput type="text" placeholder="{{'Author' | translate }}" [status]="isInvalidControl(bookForm,'author')?'danger':'basic'" formControlName="author">
                        <div *ngIf="isInvalidControl(bookForm,'author')">
                            <span class="error-text" *ngIf="bookForm.get('author').errors.required">{{'required' | translate}}</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="label mr-4"> {{'Book Code' | translate}} </label>
                        <input nbInput type="text" placeholder="{{'Code' | translate }}" [status]="isInvalidControl(bookForm,'code')?'danger':'basic'" formControlName="code">
                        <div *ngIf="isInvalidControl(bookForm,'code')">
                            <span class="error-text" *ngIf="bookForm.get('code').errors.required">{{'required' | translate}}</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="label mr-4"> {{'Donated By' | translate}} </label>
                        <ngx-child-select [childs]="children" formControlName="donator" ></ngx-child-select>
                        <!-- <input nbInput type="text" placeholder="{{'Donated By' | translate }}" [status]="isInvalidControl(bookForm,'donator')?'danger':'basic'" formControlName="donator"> -->
                        <!-- <div *ngIf="isInvalidControl(bookForm,'donator')">
                            <span class="error-text" *ngIf="bookForm.get('donator').errors.required">{{'required' | translate}}</span>
                        </div> -->
                    </div>
                    <div class="form-group">
                        <label class="label"> {{'Book Description' | translate}} </label>
                        <textarea nbInput rows="5" fullWidth placeholder="{{'comment' | translate}}" formControlName="comment"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="label mr-4"> {{'Borrowed By' | translate}} </label>
                        <ngx-child-select [childs]="children" formControlName="child" ></ngx-child-select>
                        <!-- <div *ngIf="isInvalidControl(bookForm,'donator')">
                            <span class="error-text" *ngIf="bookForm.get('child').errors.required">{{'required' | translate}}</span>
                        </div> -->
                    </div>           
                    <div class="form-group">
                        <label class="label mr-4"> {{'Borrowed Date' | translate}} </label>
                        <input  fullWidth nbInput [owlDateTimeTrigger]="dt" [owlDateTime]="dt" [status]="isInvalidControl(bookForm,'booked_on')?'danger':'basic'" formControlName="booked_on" placeholder="dd/mm/yyyy">
                        <owl-date-time #dt [pickerType]="'calendar'"></owl-date-time>
                        <!-- <div *ngIf="isInvalidControl(bookForm,'booked_on')">
                            <span class="error-text" *ngIf="bookForm.get('booked_on').errors.required">{{'required' | translate}}</span>
                        </div> -->
                    </div>
                    <div class="form-group">
                        <label class="label mr-4"> {{'Returned Date' | translate}} </label>
                        <input  fullWidth nbInput [owlDateTimeTrigger]="dt1" [owlDateTime]="dt1" [status]="isInvalidControl(bookForm,'returned_on')?'danger':'basic'" formControlName="returned_on" placeholder="dd/mm/yyyy">
                        <owl-date-time #dt1 [pickerType]="'calendar'"></owl-date-time>
                        <!-- <div *ngIf="isInvalidControl(bookForm,'donator')">
                            <span class="error-text" *ngIf="bookForm.get('donatedBy').errors.required">{{'required' | translate}}</span>
                        </div> -->
                    </div>
                    <input nbInput type="submit" value="{{submit}}" style="float: right;">
                </form>
            </nb-card-body>
        </nb-card>
    </div>
</div>
